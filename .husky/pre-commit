# Get current branch
current_branch=$(git rev-parse --abbrev-ref HEAD)

# Check if we're not on main branch
if [ "$current_branch" != "main" ]; then
    echo "üîç Checking for main branch updates..."

    # Fetch latest changes from remote
    git fetch origin main

    # Check if there are any differences between local and remote main
    changes=$(git rev-list HEAD...origin/main --count)

    if [ "$changes" -gt 0 ]; then
        echo "‚ö†Ô∏è New changes detected on main branch! Update your branch before committing."
        echo "Run: git merge origin/main"
        exit 1
    else
        echo "‚úÖ Your branch is up to date with main"
    fi
fi

exit 0
